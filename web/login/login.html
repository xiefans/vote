<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>小油龙</title>

<!--    <link rel="stylesheet" type="text/css" href="../others/bootstrap/css/bootstrap.min.css">-->
    <link rel="stylesheet" type="text/css" href="login.css">
</head>
<body>
    <!-- 背景图片 -->
    <div class="background"></div>
    <!-- 背景遮罩 -->
    <div class="background-cover"></div>

    <!-- 登录主体 -->
    <div class="login-container">
        <div class="card">
            <div class="card-title">小油龙投票系统</div>
            <div class="input-item">
                <input id="email" class="input-phone" type="text" placeholder="请输入邮箱">
            </div>
            <div class="input-item">
                <input id="code" class="input-code" type="text" placeholder="请输入验证码"/>
                <button id="getCode" class="get-code">获取验证码</button>
            </div>
            <div class="input-item">
                <input id="password" class="input-password" type="password" placeholder="请输入密码"/>
            </div>
            <div id="login" class="login-button">登录</div>
            <div class="copyright">© 谢帆</div>
        </div>
    </div>



    <script src="../others/jQuery.min.js"></script>
    <script src="../utils/request.js"></script>
    <script src="../others/bootstrap/js/bootstrap.min.js"></script>
    <script>
        $("#getCode").on("click", function (e) {
            let email = $("#email").val();
            post({
                subUrl : "verify/email/getCode",
                data : {email : email},
                success : function (e) {
                    alert("邮件发送成功");
                },
                fail : function (e) {
                    alert(e.message);
                }
            });
        });


        $("#login").on("click", function (e) {
            let email = $("#email").val();
            let code = $("#code").val();
            let password = $("#password").val();
            post({
                subUrl : "verify/email/verify",
                data : {
                    email : email,
                    code : code,
                    password : password,
                },
                success : function (e) {
                    alert("验证通过");
                },
                fail : function (e) {
                    alert(e.message);
                }
            });
        });
    </script>

</body>
</html>